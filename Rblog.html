<!DOCTYPE html>
<html lang="zh-CN"> 
<head>
<meta charset="utf-8">
<title>利用R语言打造自己的博客编辑器 | MENBIN'S Blog</title>
<meta name="description" content=" R语言在博客编写中的应用 ">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsive viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- 国产高速渲染 -->
<meta name="renderer" content="webkit">
<link rel="shortcut icon" href="./img/favicon.ico">
<!-- Le styles -->
<link href="./css/bootstrap.min.css" rel="stylesheet">
<link href="./css/font-awesome.min.css" rel="stylesheet">
<link href="./css/style.css" rel="stylesheet">
</head>
<body ontouchstart="">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://binmen.github.io/blog">MENBIN</a>
        </div>
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="./index1.html">Home</a></li>
<li><a href="./categories.html">Categories</a></li>
<li><a href="">Tags</a></li>
<li><a href="./About.html">About Me</a></li>
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');
var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })
    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
 *
 * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
background-image: url('./img/  ')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
<h1>利用R语言打造自己的博客编辑器</h1>
<h2 class="subheading">R语言在博客编写中的应用</h2>
<span class="meta"> Posted by MenBin on Aug 13 , 2016 </span>
                </div>
            </div>
        </div>
    </div>
</header>
<article>
<!-- Main Content -->
<div class="container">
<div class="row">
<!-- Post Container -->
    <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">
<h2 id="section">写在前面的话</h2>
<ul>
<li>以前写blog时，宝宝的心中是酱紫的</li>
<img src="./img/moji.jpg" />
<li>完成一篇blog需要修改好多地方，首先需要在首页添加标题以及链接:</li>
<img src="./img/shouye.jpg" />
<li>然后还要将文章添加进入categories:</li>
<img src="./img/cata.jpg" />
<li>还要修改前一篇文章的NEXT文章按钮:</li>
<img src="./img/next.jpg" />
<li>最后还要进行各种的设置,例如多说的配置等等。</li>
</ul>
<p>总之，宝宝的心情是很不爽的，后来，在痛定思痛之下，宝宝
决定自己打造blog编辑器，每次编写时只需要制作正文即可，其他都会自动生成！
例如生成本网页<kbd>仅需要做的工作</kbd>就是编辑以下内容:</p>
<img src="./img/rblog.jpg" />
<p>这样就会简化大部分的工作，就像<kbd>发布微博</kbd>一样发布博客</p>
<h2 id="section-1">思路分析</h2>
<ul>
<p>对首页进行的处理</p>
<li>第一步：获取后缀名为index1.html的网页;</li>
<li>第二步：利用正则表达式匹配出应该添加的位置以及行数;</li>
<li>第三步：利用paste函数将html语句跟需要添加的语句进行合并;</li>
<li>第四步：将index1.html进行分割，然后将添加的语句跟index1.html合并起来;</li>
<p>对catageroy进行的处理</p>
<li>第一步：确定添加的内容属于那一类别，利用正则表达式读取该类别已经存在文章的数目，然后将文章数目+1，</li>
<li>第二步：获取该语句的前一行的行号，然后在粘贴起来;再进行类别下文章的添加，利用paste函数进行添加;</li>
<p>对前一篇文章的处理;（此处可以建立个文章列表，方便确定下一篇文件名称）</p>
<li>第一步：首先利用正则表达式找到{点击进入下一篇}的语句，然后进行删除，利用已经写好的语句进行替换</li>
<p>对新添加文章的网页处理</p>
<li>首先建立个模板，模板可根据需要自己改变，然后将模板进行修改即可，这是我的模板</li>
<img src="./img/rblogmuban.jpg" />
<li>最后将所有内容合并起来就可以生成一篇博文了。</li>
</ul>
<h2 id="section-2">基本思想</h2>
<p>本程序的核心就是利用正则表达式以及paste、gsub函数对数据进行处理，然后将文章进行拼接即可。</p>
<h2 id="section-3">改进想法</h2>
<p>后续的改进就是创建自己的一套符号，不在使用原来的p,li,ul等，简化代码，然后添加自动生成目录的方法，基本思想还是利用正则表达式。</p>
<p>所有代码：<a href="./download/Rblog.rar">Rblog</a>下载</p>
<hr><ul class="tag_box list-unstyled list-inline"</ul></hr>
<p class="text-right">
<a href="./index1.html">MENBIN</a>
<span class="time">
<time><span class="label label-primary label-md"><strong> 2016-08-13 </strong></span></time>
</br>地点：中国--大连--东财
</span>
</p>
<hr>
<ul class="tag_box list-unstyled list-inline">
</ul>
<hr>
                <!-- 多说 Share start -->
<div class="ds-share"
                    style="text-align: right"
                    data-thread-key=""
data-title="利用R语言打造自己的博客编辑器"
data-url="http://binmen.github.io/blog/Rblog.html"
data-content="利用R语言打造自己自己的博客编辑器，每次编写博客时只需要编辑博客正文内容以及标题，其余添加首页，分类页等工作自动生成；后续改进的是正文内容编辑不再需要各种标签以及自动化生成目录等，只需要特定
符号即可，希望各位看官推荐一套比较简洁的符号，例如markdown里面的#，##，###等">
                    <div class="ds-share-inline">
                      <ul  class="ds-share-icons-16">
                        <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">分享到：</a></li>
                        <li><a class="ds-wechat flat" href="javascript:void(0);" data-service="wechat">微信</a></li>
                        <li><a class="ds-weibo flat" href="javascript:void(0);" data-service="weibo">微博</a></li>
                        <li><a class="ds-douban flat" href="javascript:void(0);" data-service="douban">豆瓣</a></li>
                      </ul>
                      <div class="ds-share-icons-more">
                      </div>
                    </div>
                <hr>
                </div>
                <!-- 多说 Share end-->
 <ul class="pager">
<li class="previous"><a href="luding.html" data-toggle="tooltip" data-placement="top" title="                    文本挖掘技术初探">PREVIOUS</br>                    文本挖掘技术初探</a></li>
<li class="next"><a href="./datatable.html" data-toggle="tooltip" data-placement="top" title="DT包的使用简介">Next</br>DT包的使用简介</a></li>
</ul>
                <!-- 多说评论框 start -->
                <div class="comment">
                    <div class="ds-thread"
                        data-thread-key=""
data-title="利用R语言打造自己的博客编辑器"
data-url="http://binmen.github.io/blog/Rblog.html"
                    </div>
                </div>
                <!-- 多说评论框 end -->
            </div>
    </div> 
<!-- Sidebar Container -->
<!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">
           
                <!-- Friends Blog -->
                
                <hr>
                <h5>友情链接</h5>
                <ul class="list-inline">
                    
                       <li><a href="http://meoniher.github.io/index.html">Chen Jiahui's  Blog</a></li>
                    
                        <li><a href="https://github.com/Huxpro/huxpro.github.io">Hux-模板来源</a></li>
                    
                        <li><a href="http://brucezhaor.github.io/"> BruceZhaoR</a></li>

<li><a href="http://binmen.github.io/Simple">团队作品</a></li>
                    
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>


<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">

    var _user = 'menbin';
    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->
<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options.placement = 'left';
        anchors.add('h2,h3');
anchors.remove('.subheading');
    })
</script>


<!-- mathjax -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<!-- for R highlight -->
<script type="text/javascript" src="./js/r-highlight.js"></script>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                 <!--站长统计-->
                 <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1259231356'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1259231356%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script> 
                <p class="copyright text-muted">
                   &copy;2016. MenBin Copyright Reserved. | Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> and <a href="http://www.bootcss.com/">Bootstrap</a>.Theme by <a href="http://huangxuan.me">Hux</a> and <a href="http://brucezhaor.github.io/"> BruceZhaoR</a>.
<br>
<span class="label label-primary label-md"><strong>转载请标明作者和出处</strong></span>
                </p>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="./js/jquery.min.js"></script>
<script type="text/javascript" src="./js/bootstrap.min.js"></script>
<script type="text/javascript" src="./js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--fastClick.js -->
<script>
    async("http://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);  
    })
</script>

<!-- back-to-top -->
<div id="back-top">
  <a href="#section" data-toggle="tooltip" data-placement="top" title="top">
<i class="fa fa-chevron-up"></i>
  </a>
</div>
<script type="text/javascript" src="./js/jquery-1.8.3.js"></script>
<script>
$('#back-top').hide();
$(document).ready(function () {
$(window).scroll(function () {
    if ($(this).scrollTop() > 250) {
      $('#back-top').fadeIn();
    } else {
      $('#back-top').fadeOut();
    }
  });
  $('#back-top a').click(function () {
    $('body,html').animate({
      scrollTop: 0
    }, 800);
    return false;
  });
});
</script>
<!-- 代码以及文字显示器-->
<script type="text/javascript">
    // get nodes
    var $zh = document.querySelector(".zh");
    var $en = document.querySelector(".en");
    var $select = document.querySelector("select");

    // bind hashchange event
    window.addEventListener('hashchange', _render);

    // handle render
    function _render(){
        var _hash = window.location.hash;
        // en
        if(_hash == "#en"){
            $select.selectedIndex = 1;
            $en.style.display = "block";
            $zh.style.display = "none";
        // zh by default
        }else{
            // not trigger onChange, otherwise cause a loop call.
            $select.selectedIndex = 0;
            $zh.style.display = "block";
            $en.style.display = "none";
        }
    }

    // handle select change
    function onLanChange(index){
        if(index == 0){
            window.location.hash = "#zh"
        }else{
            window.location.hash = "#en"
        }
    }

    // init
    _render();
</script>
<script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script>
<script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script>
</body>
</html>
